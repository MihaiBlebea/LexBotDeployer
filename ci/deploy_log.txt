



  Test lambda function
  Test lambda function
    ✓ Should return hello World
    ✓ Should return Goodbye World33



  1 passing (10ms)

0

  1 passing (12ms)

0
STDOUT /Users/mihai.blebea/Projects/LexBots/withNode/repos/lambdas/functions
Serverless: WARNING: Missing "tenant" and "app" properties in serverless.yml. Without these properties, you can not publish the service to the Serverless Platform.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Service files not changed. Skipping deployment...
Service Information
service: demo
stage: dev
region: us-east-1
stack: demo-dev
api keys:
  None
endpoints:
  None
functions:
  hello: demo-dev-hello
  goodbye: demo-dev-goodbye

STDERR 
[13:56:25:651] : Starting to deploy slot SlotTypeOne.
[13:56:25:656] : Starting to deploy slot SlotTypeTwo.
[13:56:27:57] : Getting the checksum of the latest version for SlotTypeOne
[13:56:27:119] : Getting the checksum of the latest version for SlotTypeTwo
[13:56:27:966] : Updating the slot code for SlotTypeOne
[13:56:27:999] : Updating the slot code for SlotTypeTwo
{
    "name": "SlotTypeOne",
    "description": "Available pizza sauces",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        },
        {
            "value": "blue"
        },
        {
            "value": "white"
        },
        {
            "value": "marron"
        }
    ],
    "lastUpdatedDate": 1537879037.992,
    "createdDate": 1537879037.992,
    "version": "9",
    "checksum": "e3e5025e-91ef-4706-92ee-3e91f940840f",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[13:56:29:399] : Creating a new version for SlotTypeOne. New version is 9
[13:56:29:399] : Slot SlotTypeOne was deployed.
[13:56:29:410] : Starting to deploy intent IntentOne.
[13:56:29:414] : Starting to deploy intent IntentTwo.
{
    "name": "SlotTypeTwo",
    "description": "Available pizza sauces two",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        }
    ],
    "lastUpdatedDate": 1537795114.868,
    "createdDate": 1537795114.868,
    "version": "1",
    "checksum": "e160124c-9bbf-471a-95f6-e6605f3b7e85",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[13:56:29:475] : Creating a new version for SlotTypeTwo. New version is 1
[13:56:29:475] : Slot SlotTypeTwo was deployed.
[13:56:30:909] : Getting the checksum of the latest version for IntentOne
[13:56:30:934] : Getting the checksum of the latest version for IntentTwo
[13:56:31:707] : Updating the code for intent IntentOne.
[13:56:31:714] : Updating the code for intent IntentTwo.
[13:56:33:289] : Getting the checksum of the latest version for IntentTwo
[13:56:33:289] : Intent IntentTwo was deployed.
[13:56:33:302] : Starting to deploy bot BotOne.
[13:56:33:307] : Starting to deploy bot BotTwo.
[13:56:33:312] : Getting the checksum of the latest version for IntentOne
[13:56:33:312] : Intent IntentOne was deployed.
{
    "name": "BotOne",
    "description": "Bot to order human2222",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "11"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537879129.19,
    "createdDate": 1537795133.575,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "5a5011bc-add2-43bf-a729-78154db2e7ac",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[13:56:34:855] : Creating a new version for BotOne. New version is $LATEST
{
    "name": "BotTwo",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "11"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537879137.186,
    "createdDate": 1537795133.577,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "18207f05-a568-4eca-b108-ca67500ae63b",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[13:56:34:861] : Creating a new version for BotTwo. New version is $LATEST
[13:56:35:394] : Updating the code for the bot BotTwo.
[13:56:35:399] : Updating the code for the bot BotOne.
{
    "name": "BotTwo",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "11"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537879158.464,
    "createdDate": 1537879112.756,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "18207f05-a568-4eca-b108-ca67500ae63b",
    "version": "7",
    "locale": "en-US",
    "childDirected": false
}


[13:56:39:106] : Creating a new version for BotTwo. New version is 7
[13:56:39:106] : Bot BotTwo was deployed.
REACH THE END




  Test lambda function
  Test lambda function
    ✓ Should return hello World
    ✓ Should return Goodbye World33



  1 passing (7ms)

0

  1 passing (10ms)

0
STDOUT /Users/mihai.blebea/Projects/LexBots/withNode/repos/lambdas/functions
Serverless: WARNING: Missing "tenant" and "app" properties in serverless.yml. Without these properties, you can not publish the service to the Serverless Platform.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Service files not changed. Skipping deployment...
Service Information
service: demo
stage: dev
region: us-east-1
stack: demo-dev
api keys:
  None
endpoints:
  None
functions:
  hello: demo-dev-hello
  goodbye: demo-dev-goodbye

STDERR 
[13:57:7:388] : Starting to deploy slot SlotTypeOne.
[13:57:7:393] : Starting to deploy slot SlotTypeTwo.
[13:57:8:417] : Getting the checksum of the latest version for SlotTypeOne
[13:57:8:676] : Getting the checksum of the latest version for SlotTypeTwo
[13:57:9:625] : Updating the slot code for SlotTypeTwo
[13:57:9:959] : Updating the slot code for SlotTypeOne
{
    "name": "SlotTypeTwo",
    "description": "Available pizza sauces two",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        }
    ],
    "lastUpdatedDate": 1537795114.868,
    "createdDate": 1537795114.868,
    "version": "1",
    "checksum": "e160124c-9bbf-471a-95f6-e6605f3b7e85",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[13:57:10:665] : Creating a new version for SlotTypeTwo. New version is 1
[13:57:10:665] : Slot SlotTypeTwo was deployed.
[13:57:10:676] : Starting to deploy intent IntentOne.
[13:57:10:680] : Starting to deploy intent IntentTwo.
[13:57:12:51] : Getting the checksum of the latest version for IntentOne
{
    "name": "SlotTypeOne",
    "description": "Available pizza sauces",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        },
        {
            "value": "blue"
        },
        {
            "value": "white"
        },
        {
            "value": "marron"
        }
    ],
    "lastUpdatedDate": 1537879037.992,
    "createdDate": 1537879037.992,
    "version": "9",
    "checksum": "e3e5025e-91ef-4706-92ee-3e91f940840f",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[13:57:12:221] : Creating a new version for SlotTypeOne. New version is 9
[13:57:12:221] : Slot SlotTypeOne was deployed.
[13:57:14:417] : Updating the code for intent IntentOne.
[13:57:15:756] : Getting the checksum of the latest version for IntentOne
[13:57:15:757] : Intent IntentOne was deployed.
[13:57:15:771] : Starting to deploy bot BotOne.
[13:57:15:775] : Starting to deploy bot BotTwo.
[13:57:16:96] : Getting the checksum of the latest version for IntentTwo
[13:57:16:414] : Updating the code for intent IntentTwo.
{
    "name": "BotOne",
    "description": "Bot to order human2222",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "11"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537879129.19,
    "createdDate": 1537795133.575,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "5a5011bc-add2-43bf-a729-78154db2e7ac",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[13:57:16:866] : Creating a new version for BotOne. New version is $LATEST
[13:57:17:504] : Updating the code for the bot BotOne.
{
    "name": "BotTwo",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "11"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537879137.186,
    "createdDate": 1537795133.577,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "18207f05-a568-4eca-b108-ca67500ae63b",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[13:57:17:781] : Creating a new version for BotTwo. New version is $LATEST
[13:57:17:923] : Getting the checksum of the latest version for IntentTwo
[13:57:17:923] : Intent IntentTwo was deployed.
[13:57:18:284] : Updating the code for the bot BotTwo.
{
    "name": "BotOne",
    "description": "Bot to order human2222",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "12"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "BUILDING",
    "lastUpdatedDate": 1537880239.763,
    "createdDate": 1537880239.763,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "2a209a5c-691b-4d5a-8c58-10d430d0f3f5",
    "version": "12",
    "locale": "en-US",
    "childDirected": false
}


[13:57:19:920] : Creating a new version for BotOne. New version is 12
[13:57:19:921] : Bot BotOne was deployed.
REACH THE END




  Test lambda function
  Test lambda function
    ✓ Should return hello World
    ✓ Should return Goodbye World33



  1 passing (7ms)

0

  1 passing (10ms)

0
STDOUT /Users/mihai.blebea/Projects/LexBots/withNode/repos/lambdas/functions
Serverless: WARNING: Missing "tenant" and "app" properties in serverless.yml. Without these properties, you can not publish the service to the Serverless Platform.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Service files not changed. Skipping deployment...
Service Information
service: demo
stage: dev
region: us-east-1
stack: demo-dev
api keys:
  None
endpoints:
  None
functions:
  hello: demo-dev-hello
  goodbye: demo-dev-goodbye

STDERR 
[14:3:53:12] : Starting to deploy slot SlotTypeOne.
[14:3:53:17] : Starting to deploy slot SlotTypeTwo.
[14:3:54:580] : Getting the checksum of the latest version for SlotTypeOne
[14:3:54:634] : Getting the checksum of the latest version for SlotTypeTwo
[14:3:55:568] : Updating the slot code for SlotTypeOne
[14:3:55:575] : Updating the slot code for SlotTypeTwo
{
    "name": "SlotTypeTwo",
    "description": "Available pizza sauces two",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        }
    ],
    "lastUpdatedDate": 1537795114.868,
    "createdDate": 1537795114.868,
    "version": "1",
    "checksum": "e160124c-9bbf-471a-95f6-e6605f3b7e85",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[14:3:57:50] : Creating a new version for SlotTypeTwo. New version is 1
[14:3:57:50] : Slot SlotTypeTwo was deployed.
[14:3:57:51] : Starting to deploy intent IntentOne.
[14:3:57:55] : Starting to deploy intent IntentTwo.
{
    "name": "SlotTypeOne",
    "description": "Available pizza sauces",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        },
        {
            "value": "blue"
        },
        {
            "value": "white"
        },
        {
            "value": "marron"
        }
    ],
    "lastUpdatedDate": 1537880636.905,
    "createdDate": 1537880636.905,
    "version": "11",
    "checksum": "b2fb921c-d4cb-4e82-8ecf-e9262fc824d1",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[14:3:57:63] : Creating a new version for SlotTypeOne. New version is 11
[14:3:57:63] : Slot SlotTypeOne was deployed.
[14:3:58:610] : Getting the checksum of the latest version for IntentTwo
[14:3:58:635] : Getting the checksum of the latest version for IntentOne
[14:3:59:538] : Updating the code for intent IntentOne.
[14:3:59:987] : Updating the code for intent IntentTwo.
[14:4:0:989] : Getting the checksum of the latest version for IntentOne
[14:4:0:989] : Intent IntentOne was deployed.
[14:4:1:0] : Starting to deploy bot BotOne.
[14:4:1:4] : Starting to deploy bot BotTwo.
[14:4:1:473] : Getting the checksum of the latest version for IntentTwo
[14:4:1:473] : Intent IntentTwo was deployed.
{
    "name": "BotTwo",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "12"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880261.201,
    "createdDate": 1537795133.577,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "0295fdd0-a2f3-4283-b5e3-a1159aea96a2",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[14:4:2:483] : Creating a new version for BotTwo. New version is $LATEST
{
    "name": "BotOne",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "1"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880354.478,
    "createdDate": 1537795133.575,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "fd3e848e-d7b0-4f78-b97a-3d98b3eb7a88",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[14:4:2:485] : Creating a new version for BotOne. New version is $LATEST
[14:4:3:92] : Updating the code for the bot BotOne.
[14:4:3:174] : Updating the code for the bot BotTwo.
{
    "name": "BotOne",
    "description": "Bot to order human2222",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "BUILDING",
    "lastUpdatedDate": 1537880646.577,
    "createdDate": 1537880646.577,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "566d9fba-d270-4a6f-8177-0e0b35c24b07",
    "version": "14",
    "locale": "en-US",
    "childDirected": false
}


[14:4:6:721] : Creating a new version for BotOne. New version is 14
[14:4:6:722] : Bot BotOne was deployed.
REACH THE END




  Test lambda function
  Test lambda function
    ✓ Should return hello World
    ✓ Should return Goodbye World33



  1 passing (7ms)

0

  1 passing (10ms)

0
STDOUT /Users/mihai.blebea/Projects/LexBots/withNode/repos/lambdas/functions
Serverless: WARNING: Missing "tenant" and "app" properties in serverless.yml. Without these properties, you can not publish the service to the Serverless Platform.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Service files not changed. Skipping deployment...
Service Information
service: demo
stage: dev
region: us-east-1
stack: demo-dev
api keys:
  None
endpoints:
  None
functions:
  hello: demo-dev-hello
  goodbye: demo-dev-goodbye

STDERR 
[14:4:30:351] : Starting to deploy slot SlotTypeOne.
[14:4:30:357] : Starting to deploy slot SlotTypeTwo.
[14:4:31:814] : Getting the checksum of the latest version for SlotTypeTwo
[14:4:31:868] : Getting the checksum of the latest version for SlotTypeOne
[14:4:32:776] : Updating the slot code for SlotTypeTwo
[14:4:32:782] : Updating the slot code for SlotTypeOne
{
    "name": "SlotTypeOne",
    "description": "Available pizza sauces",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        },
        {
            "value": "blue"
        },
        {
            "value": "white"
        },
        {
            "value": "marron"
        }
    ],
    "lastUpdatedDate": 1537880636.905,
    "createdDate": 1537880636.905,
    "version": "11",
    "checksum": "b2fb921c-d4cb-4e82-8ecf-e9262fc824d1",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[14:4:34:797] : Creating a new version for SlotTypeOne. New version is 11
[14:4:34:797] : Slot SlotTypeOne was deployed.
[14:4:34:798] : Starting to deploy intent IntentOne.
[14:4:34:802] : Starting to deploy intent IntentTwo.
{
    "name": "SlotTypeTwo",
    "description": "Available pizza sauces two",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        }
    ],
    "lastUpdatedDate": 1537795114.868,
    "createdDate": 1537795114.868,
    "version": "1",
    "checksum": "e160124c-9bbf-471a-95f6-e6605f3b7e85",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[14:4:35:160] : Creating a new version for SlotTypeTwo. New version is 1
[14:4:35:161] : Slot SlotTypeTwo was deployed.
[14:4:36:351] : Getting the checksum of the latest version for IntentOne
[14:4:36:354] : Getting the checksum of the latest version for IntentTwo
[14:4:37:281] : Updating the code for intent IntentTwo.
[14:4:37:287] : Updating the code for intent IntentOne.
[14:4:38:786] : Getting the checksum of the latest version for IntentOne
[14:4:38:786] : Intent IntentOne was deployed.
[14:4:38:798] : Starting to deploy bot BotOne.
[14:4:38:801] : Starting to deploy bot BotTwo.
[14:4:39:153] : Getting the checksum of the latest version for IntentTwo
[14:4:39:153] : Intent IntentTwo was deployed.
{
    "name": "BotOne",
    "description": "Bot to order human2222",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880665.024,
    "createdDate": 1537795133.575,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "566d9fba-d270-4a6f-8177-0e0b35c24b07",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[14:4:40:273] : Creating a new version for BotOne. New version is $LATEST
{
    "name": "BotTwo",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880675.155,
    "createdDate": 1537795133.577,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "cc649764-5790-49bd-ba14-ed3fab209bac",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[14:4:40:277] : Creating a new version for BotTwo. New version is $LATEST
[14:4:40:859] : Updating the code for the bot BotOne.
[14:4:40:860] : Updating the code for the bot BotTwo.
{ Error: Command failed: aws lex-models create-bot-version                     --region us-east-1                     --name BotTwo                     --checksum "cc649764-5790-49bd-ba14-ed3fab209bac"

An error occurred (ConflictException) when calling the CreateBotVersion operation: There is a conflicting operation in progress for the resource named 'BotTwo'.

    at ChildProcess.exithandler (child_process.js:289:12)
    at ChildProcess.emit (events.js:182:13)
    at ChildProcess.EventEmitter.emit (domain.js:442:20)
    at maybeClose (internal/child_process.js:961:16)
    at Socket.stream.socket.on (internal/child_process.js:380:11)
    at Socket.emit (events.js:182:13)
    at Socket.EventEmitter.emit (domain.js:442:20)
    at Pipe._handle.close (net.js:599:12)
  killed: false,
  code: 255,
  signal: null,
  cmd:
   'aws lex-models create-bot-version                     --region us-east-1                     --name BotTwo                     --checksum "cc649764-5790-49bd-ba14-ed3fab209bac"' }


An error occurred (ConflictException) when calling the CreateBotVersion operation: There is a conflicting operation in progress for the resource named 'BotTwo'.





  Test lambda function
  Test lambda function
    ✓ Should return hello World
    ✓ Should return Goodbye World33



  1 passing (7ms)

0

  1 passing (10ms)

0
STDOUT /Users/mihai.blebea/Projects/LexBots/withNode/repos/lambdas/functions
Serverless: WARNING: Missing "tenant" and "app" properties in serverless.yml. Without these properties, you can not publish the service to the Serverless Platform.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Service files not changed. Skipping deployment...
Service Information
service: demo
stage: dev
region: us-east-1
stack: demo-dev
api keys:
  None
endpoints:
  None
functions:
  hello: demo-dev-hello
  goodbye: demo-dev-goodbye

STDERR 
[14:6:5:113] : Starting to deploy slot SlotTypeOne.
[14:6:5:117] : Starting to deploy slot SlotTypeTwo.
[14:6:6:587] : Getting the checksum of the latest version for SlotTypeTwo
[14:6:6:639] : Getting the checksum of the latest version for SlotTypeOne
[14:6:7:412] : Updating the slot code for SlotTypeTwo
[14:6:7:418] : Updating the slot code for SlotTypeOne
{
    "name": "SlotTypeTwo",
    "description": "Available pizza sauces two",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        }
    ],
    "lastUpdatedDate": 1537795114.868,
    "createdDate": 1537795114.868,
    "version": "1",
    "checksum": "e160124c-9bbf-471a-95f6-e6605f3b7e85",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[14:6:8:796] : Creating a new version for SlotTypeTwo. New version is 1
[14:6:8:796] : Slot SlotTypeTwo was deployed.
[14:6:8:797] : Starting to deploy intent IntentOne.
[14:6:8:801] : Starting to deploy intent IntentTwo.
{
    "name": "SlotTypeOne",
    "description": "Available pizza sauces",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        },
        {
            "value": "blue"
        },
        {
            "value": "white"
        },
        {
            "value": "marron"
        }
    ],
    "lastUpdatedDate": 1537880636.905,
    "createdDate": 1537880636.905,
    "version": "11",
    "checksum": "b2fb921c-d4cb-4e82-8ecf-e9262fc824d1",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[14:6:8:831] : Creating a new version for SlotTypeOne. New version is 11
[14:6:8:831] : Slot SlotTypeOne was deployed.
[14:6:10:173] : Getting the checksum of the latest version for IntentOne
[14:6:10:200] : Getting the checksum of the latest version for IntentTwo
[14:6:10:777] : Updating the code for intent IntentTwo.
[14:6:10:782] : Updating the code for intent IntentOne.
[14:6:12:197] : Getting the checksum of the latest version for IntentOne
[14:6:12:197] : Intent IntentOne was deployed.
[14:6:12:199] : Getting the checksum of the latest version for IntentTwo
[14:6:12:199] : Intent IntentTwo was deployed.
[14:6:12:210] : Starting to deploy bot BotOne.
[14:6:12:214] : Starting to deploy bot BotTwo.
{
    "name": "BotOne",
    "description": "Bot to order human2222",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880665.024,
    "createdDate": 1537795133.575,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "566d9fba-d270-4a6f-8177-0e0b35c24b07",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[14:6:13:575] : Creating a new version for BotOne. New version is $LATEST
{
    "name": "BotTwo",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880675.155,
    "createdDate": 1537795133.577,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "cc649764-5790-49bd-ba14-ed3fab209bac",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[14:6:13:581] : Creating a new version for BotTwo. New version is $LATEST
[14:6:14:81] : Updating the code for the bot BotTwo.
[14:6:14:86] : Updating the code for the bot BotOne.
{
    "name": "BotTwo",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880697.504,
    "createdDate": 1537880646.793,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "cc649764-5790-49bd-ba14-ed3fab209bac",
    "version": "9",
    "locale": "en-US",
    "childDirected": false
}


[14:6:15:524] : Creating a new version for BotTwo. New version is 9
[14:6:15:524] : Bot BotTwo was deployed.
REACH THE END




  Test lambda function
  Test lambda function
    ✓ Should return hello World
    ✓ Should return Goodbye World33



  1 passing (7ms)

0

  1 passing (9ms)

0
STDOUT /Users/mihai.blebea/Projects/LexBots/withNode/repos/lambdas/functions
Serverless: WARNING: Missing "tenant" and "app" properties in serverless.yml. Without these properties, you can not publish the service to the Serverless Platform.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Service files not changed. Skipping deployment...
Service Information
service: demo
stage: dev
region: us-east-1
stack: demo-dev
api keys:
  None
endpoints:
  None
functions:
  hello: demo-dev-hello
  goodbye: demo-dev-goodbye

STDERR 
[14:8:34:432] : Starting to deploy slot SlotTypeOne.
[14:8:34:437] : Starting to deploy slot SlotTypeTwo.
[14:8:35:955] : Getting the checksum of the latest version for SlotTypeOne
[14:8:36:5] : Getting the checksum of the latest version for SlotTypeTwo
[14:8:36:910] : Updating the slot code for SlotTypeTwo
[14:8:36:916] : Updating the slot code for SlotTypeOne
{
    "name": "SlotTypeTwo",
    "description": "Available pizza sauces two",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        }
    ],
    "lastUpdatedDate": 1537795114.868,
    "createdDate": 1537795114.868,
    "version": "1",
    "checksum": "e160124c-9bbf-471a-95f6-e6605f3b7e85",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[14:8:38:364] : Creating a new version for SlotTypeTwo. New version is 1
[14:8:38:364] : Slot SlotTypeTwo was deployed.
[14:8:38:365] : Starting to deploy intent IntentOne.
[14:8:38:368] : Starting to deploy intent IntentTwo.
{
    "name": "SlotTypeOne",
    "description": "Available pizza sauces",
    "enumerationValues": [
        {
            "value": "red"
        },
        {
            "value": "pink"
        },
        {
            "value": "blue"
        },
        {
            "value": "white"
        },
        {
            "value": "marron"
        }
    ],
    "lastUpdatedDate": 1537880636.905,
    "createdDate": 1537880636.905,
    "version": "11",
    "checksum": "b2fb921c-d4cb-4e82-8ecf-e9262fc824d1",
    "valueSelectionStrategy": "ORIGINAL_VALUE"
}


[14:8:38:372] : Creating a new version for SlotTypeOne. New version is 11
[14:8:38:372] : Slot SlotTypeOne was deployed.
[14:8:39:778] : Getting the checksum of the latest version for IntentOne
[14:8:39:788] : Getting the checksum of the latest version for IntentTwo
[14:8:40:604] : Updating the code for intent IntentTwo.
[14:8:40:611] : Updating the code for intent IntentOne.
[14:8:42:78] : Getting the checksum of the latest version for IntentTwo
[14:8:42:78] : Intent IntentTwo was deployed.
[14:8:42:79] : Starting to deploy bot BotOne.
[14:8:42:83] : Starting to deploy bot BotTwo.
[14:8:42:128] : Getting the checksum of the latest version for IntentOne
[14:8:42:128] : Intent IntentOne was deployed.
{
    "name": "BotOne",
    "description": "Bot to order human2222",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880665.024,
    "createdDate": 1537795133.575,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "566d9fba-d270-4a6f-8177-0e0b35c24b07",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[14:8:43:640] : Creating a new version for BotOne. New version is $LATEST
[14:8:44:206] : Updating the code for the bot BotOne.
{
    "name": "BotTwo",
    "description": "Bot to order human",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880675.155,
    "createdDate": 1537795133.577,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "cc649764-5790-49bd-ba14-ed3fab209bac",
    "version": "$LATEST",
    "locale": "en-US",
    "childDirected": false
}


[14:8:45:373] : Creating a new version for BotTwo. New version is $LATEST
LimitExceededException: The rate of requests exceeds the throughput limit. Retry the request.
    at Object.extractError (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/protocol/json.js:48:27)
    at Request.extractError (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/protocol/rest_json.js:52:8)
    at Request.callListeners (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/sequential_executor.js:109:20)
    at Request.emit (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/sequential_executor.js:81:10)
    at Request.emit (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/request.js:683:14)
    at Request.transition (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/request.js:22:10)
    at AcceptorStateMachine.runTo (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/state_machine.js:14:12)
    at /Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/state_machine.js:26:10
    at Request.<anonymous> (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/request.js:38:9)
    at Request.<anonymous> (/Users/mihai.blebea/Projects/LexBots/withNode/node_modules/aws-sdk/lib/request.js:685:12)
{
    "name": "BotOne",
    "description": "Bot to order human2222",
    "intents": [
        {
            "intentName": "IntentOne",
            "intentVersion": "14"
        }
    ],
    "clarificationPrompt": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "I didn't understand you, what would you like to do?"
            }
        ],
        "maxAttempts": 3
    },
    "abortStatement": {
        "messages": [
            {
                "contentType": "PlainText",
                "content": "Sorry, I'm not able to assist at this time"
            }
        ]
    },
    "status": "READY",
    "lastUpdatedDate": 1537880688.929,
    "createdDate": 1537880646.577,
    "idleSessionTTLInSeconds": 600,
    "voiceId": "Salli",
    "checksum": "566d9fba-d270-4a6f-8177-0e0b35c24b07",
    "version": "14",
    "locale": "en-US",
    "childDirected": false
}


[14:8:47:694] : Creating a new version for BotOne. New version is 14
[14:8:47:695] : Bot BotOne was deployed.
REACH THE END
